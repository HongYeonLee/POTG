{% extends "index.html" %}
{% block custom_css %}
<link rel="stylesheet" type="text/css" href="../static/indexStyle.css">
<link rel="stylesheet" type="text/css" href="../static/registerItemStyle.css">
{% endblock %}
{% block section %}



<body>
    <form action="/submit_item_post" method="post" enctype="multipart/form-data" class="form-container">
        <div class="left-column">
            <div class="upload-container">
                <div class="responsive">
                    <div class="gallery">
                        <a target="_blank" href="">
                            <img id="uploadedImage" style="display: none; border-width: 1px;">
                        </a>
                    </div>
                </div>
                <label for="fileUpload" class="file-upload-button">상품 사진 업로드</label>
                <input type="file" name="fileUpload" id="fileUpload" accept=".png, .jpeg" style="display: none;"
                    onchange="previewImage(event)"> <br>
                <div style="font-size: 14px;">.png .jpeg 파일만 첨부 가능</div>
            </div>
        </div>

        <div class="right-column">
            <div
                style="text-align: center; font-size: 36px; color: rgb(0, 90, 52); font-weight: 600; margin-bottom: 40px; margin-top: 80px;">
                상품 등록
            </div>
            <div class="input-container">
                <div class="input-group">
                    <label>판매자 아이디</label>
                    <span>POTG (Project of the Genius)</span>
                </div>

                <div class="input-group">
                    <label for="dropdown">상품 카테고리</label>
                    <select id="dropdown" name="category" required>
                        <option value="" disabled selected>상품 카테고리 선택하세요</option>
                        <option value="electronics">전자제품</option>
                        <option value="clothes">의류 및 악세사리</option>
                        <option value="beauty">뷰티 및 건강</option>
                        <option value="home">가정용품</option>
                        <option value="hobby">취미</option>
                        <option value="food">식품</option>
                        <option value="gift card">기프티</option>
                        <option value="gift card">기타</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="name">상품 이름</label>
                    <input type="text" name="name" id="name" required>
                </div>

                <div class="input-group-radio">
                    <label>거래 방식</label>
                    <input type="radio" name="method" id="option1" value="sell">
                    <label for="option1">판매</label>
                    <input type="radio" name="method" id="option2" value="co-buy">
                    <label for="option2">공동 구매</label>
                    <input type="radio" name="method" id="option3" value="exchange">
                    <label for="option3">교환</label>
                </div>

                <div class="input-group">
                    <label for="status">상품 상태</label>
                    <select id="status" name="status" required>
                        <option value="" disabled selected>상품 상태 선택하세요</option>
                        <option value="new">최상</option>
                        <option value="good">상</option>
                        <option value="used">상</option>
                        <option value="old">하</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="price">가격</label>
                    <input type="text" placeholder="가격을 입력해 주세요." name="price" id="price" required>
                </div>

                <div class="input-group">
                    <label for="date">유통기한</label>
                    <input type="date" name="date" id="date">
                </div>

                <div class="input-group">
                    <label for="info">기타 정보</label>
                    <input type="text" placeholder="브랜드, 버전 등 기타 정보를 입력해 주세요." name="info" id="info" required>
                </div>

                <div class="input-group address-input">
                    <label for="address">주소</label>
                    <div class="address-container">
                        <input type="text" id="address" placeholder="주소 찾기 버튼을 누르세요." readonly>
                        <button type="button" class="address-button" onclick="fetchAddress()">주소 찾기</button>
                    </div>
                </div>

                <div class="input-group">
                    <label for="phone">전화번호</label>
                    <input type="text" placeholder="010XXXXXXXX" name="phone" id="phone" required>
                </div>

                <div class="input-group">
                    <label for="purchase">구매처</label>
                    <input type="text" placeholder="사이트 이름, 스토어 이름 등" name="purchase" id="purchase" required>
                </div>

                <div class="input-group">
                    <label for="description">설명</label>
                    <textarea name="details" id="description" rows="5" required></textarea>
                </div>

            </div>
            <br>
            <div class="button-container">
                <input type="button" value="이전 페이지" class="button button-old">
                <input type="submit" value="다음" class="button button-new">
            </div>
        </div>
    </form>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function previewImage(event) {
            const reader = new FileReader();
            const image = document.getElementById('uploadedImage');

            reader.onload = function () {
                image.src = reader.result;
                image.style.display = 'block';
                image.style.maxWidth = '100%';
                image.style.maxHeight = '100%';
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        function fetchAddress() {
            new daum.Postcode({
                oncomplete: function (data) {
                    document.getElementById('address').value = data.roadAddress || data.jibunAddress;
                }
            }).open();
        }
    </script>
</body>
{% endblock section %}